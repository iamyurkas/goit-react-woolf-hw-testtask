"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[965],{36:function(e,n,a){a.r(n),a.d(n,{default:function(){return Ie}});var t=a(9439),s=a(2791),r=a(1301),i=a(3433),c=a(5861),l=a(4687),o=a.n(l),d=a(4420),_=a(5294),u="https://663b7542fee6744a6ea1b6e9.mockapi.io";function m(){return(m=(0,c.Z)(o().mark((function e(){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.get("".concat(u,"/adverts"));case 2:return n=e.sent,e.next=5,n.data;case 5:return a=e.sent,e.next=8,a;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){return m.apply(this,arguments)},h=a(969),p="Filter_filter_container__f0O5y",x="Filter_search_btn__a2wWi",v="Filter_location_input__dfSGV",j="Filter_relative_container__bqzTU",N="Filter_location_container__08DTT",C="Filter_location_label__cEcQC",g="Filter_location_icon_disabled__xuZPE",Z="Filter_filters_title__x8Rfc",b="Filter_filters_wrapper__i2T28",w="Filter_equipment_list__MfVwi",k="Filter_equipment_list_item__X+xDZ",F="Filter_checked__oZo8o",I="Filter_equipment_icon__6wyNN",y="Filter_equipment_wrapper__wkF34",S="Filter_types_wrapper__P-ynt",E="Filter_types_list__EGJkB",T="Filter_types_list_item__pM7lz",V="Filter_types_name__8oJe9",q="Filter_types_icon__WnhVE",A="Filter_title__pSkfx",L="Filter_equipment_input__-GruN";var X=a.p+"static/media/van.aa825a0616557ab4a8f3a18b9e8c4de4.svg";var z=a.p+"static/media/fully_integrated.2042b45867a8c8f6b6eb17315c36dc23.svg";var K=a.p+"static/media/alcove.650243b32d84777b3e4f543efb602ad5.svg",O=a(4278),P=a(4981),B=a(9394),D=a(4849),G=a(4199),J=a(6535);var M=a.p+"static/media/location_disabled.26246010e56268db9982131c10b620e0.svg",Q=a(184),U=function(){var e=(0,d.I0)(),n=(0,d.v9)((function(e){return e.favorite.campers})),a=(0,s.useState)(!1),r=(0,t.Z)(a,2),l=r[0],_=r[1],u=(0,s.useState)(""),m=(0,t.Z)(u,1)[0],U=(0,s.useState)(""),W=(0,t.Z)(U,2),Y=W[0],H=W[1],R=(0,s.useState)([]),$=(0,t.Z)(R,2),ee=$[0],ne=$[1],ae=(0,s.useState)(null),te=(0,t.Z)(ae,2),se=te[0],re=te[1];(0,s.useEffect)((function(){var n=function(){var n=(0,c.Z)(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e((0,h.Av)()),n.next=4,f();case 4:a=n.sent,e((0,h.nz)(a)),n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new Error(n.t0);case 11:return n.prev=11,e((0,h.kU)()),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]);var ie=[{id:1,name:"Van",icon:X,data:"panelTruck"},{id:2,name:"Fully Integrated",icon:z,data:"fullyIntegrated"},{id:3,name:"Alcove",icon:K,data:"alcove"}],ce=[{id:"1",name:"AC",icon:G.Z,data:"airConditioner"},{id:"2",name:"Automatic",icon:D.Z,data:"automatic"},{id:"3",name:"Kitchen",icon:B.Z,data:"kitchen"},{id:"4",name:"TV",icon:O.Z,data:"TV"},{id:"5",name:"Shower",icon:P.Z,data:"shower"}];return(0,Q.jsxs)("div",{className:p,children:[(0,Q.jsxs)("div",{className:N,children:[(0,Q.jsxs)("label",{className:C,htmlFor:"location_input",children:["Location"," "]}),(0,Q.jsxs)("div",{className:j,children:[(0,Q.jsx)("input",{className:v,type:"text",id:"location_input",name:"location",placeholder:"Location",required:!0,onBlur:function(){_(!1)},onFocus:function(){_(!0)},onChange:function(e){return H(e.target.value)}}),(0,Q.jsx)("img",{className:g,src:l||m?J.Z:M,alt:"location_icon"})]})]}),(0,Q.jsxs)("div",{children:[(0,Q.jsx)("p",{className:Z,children:"Filters"}),(0,Q.jsxs)("div",{className:b,children:[(0,Q.jsxs)("div",{className:y,children:[(0,Q.jsx)("h2",{className:A,children:"Vehicle equipment"}),(0,Q.jsx)("ul",{className:w,children:ce.map((function(e){var n=e.id,a=e.name,t=e.icon,s=e.data;return(0,Q.jsxs)("li",{className:"".concat(k," ").concat(ee.includes(s)?F:""),children:[(0,Q.jsx)("input",{className:L,type:"checkbox",id:n,name:a,value:a,onChange:function(e){return function(e,n,a){ne((function(e){return n?[].concat((0,i.Z)(e),[a]):e.filter((function(e){return e!==a}))}))}(0,e.target.checked,s)},checked:ee.includes(s)}),(0,Q.jsxs)("label",{htmlFor:n,children:[(0,Q.jsx)("img",{className:I,src:t,alt:"".concat(a,"_icon")}),a]})]},n)}))})]}),(0,Q.jsxs)("div",{className:S,children:[(0,Q.jsx)("h2",{className:A,children:"Vehicle type"}),(0,Q.jsx)("ul",{className:E,children:ie.map((function(e){return(0,Q.jsxs)("li",{className:"".concat(T," ").concat(se&&se.id===e.id?F:""),onClick:function(){return function(e){se&&se.id===e.id?re(null):re(e)}(e)},children:[(0,Q.jsx)("img",{className:q,src:e.icon,alt:"".concat(e.name,"_icon")}),(0,Q.jsx)("p",{className:V,children:e.name})]},e.id)}))})]})]})]}),(0,Q.jsx)("button",{onClick:function(){var a=n.slice();Y&&(a=a.filter((function(e){return e.location.split(",")[1].toLowerCase().trim()===Y.toLowerCase().trim()}))),ee.length>0&&(a=a.filter((function(e){return ee.every((function(n){return"automatic"===n||1===e.details[n]}))}))),se&&(a=a.filter((function(e){return e.form===se.data}))),e((0,h.Qk)(a))},className:x,children:"Search"})]})},W=a(4942),Y=a(1413),H=a(2564),R=(a(5462),a(715));var $=a.p+"static/media/heart.eaf1f75040c7665a5b109514d8630386.svg",ee=a(1786),ne=a(49),ae=a(635),te=a(6666),se=a(7255),re="CardInfo_card_wrapper__C8XIY",ie="CardInfo_card_list_wrapper__AO8Zs",ce="CardInfo_card_info__PvLTZ",le="CardInfo_description__BtYBG",oe="CardInfo_card_img_wrapper__DH2sX",de="CardInfo_card_img__iVtan",_e="CardInfo_info__JchEr",ue="CardInfo_left_info__Xr+lj",me="CardInfo_secondary_info__zK2Nf",fe="CardInfo_fav_btn__XKVYd",he="CardInfo_icons__60spt",pe="CardInfo_show_btn__mzorX",xe="CardInfo_item_details__wNx7s",ve="CardInfo_header_detail__9e4vr",je="CardInfo_list_details__n2gC9",Ne="CardInfo_load_more_btn__WCEDS",Ce="CardInfo_star_icon__ZCxOa",ge="CardInfo_flex_box__f+I26",Ze="CardInfo_rating_wrapper__FKu5n",be="CardInfo_no_camp_title_wrapper__dos4a",we=function(){var e=(0,d.I0)(),n=(0,d.v9)((function(e){return e.favorite.favoriteCards})),a=(0,d.v9)((function(e){return e.favorite.filteredCampers})),r=(0,s.useState)({}),l=(0,t.Z)(r,2),_=l[0],u=l[1],m=(0,s.useState)(4),p=(0,t.Z)(m,2),x=p[0],v=p[1];(0,s.useEffect)((function(){var n=function(){var n=(0,c.Z)(o().mark((function n(){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e((0,h.Av)()),n.next=4,f();case 4:a=n.sent,e((0,h.Qk)(a)),n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new Error;case 11:return n.prev=11,e((0,h.kU)()),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})));return function(){return n.apply(this,arguments)}}();n()}),[e]);var j=function(e){return H.Am.info(e,{theme:"colored"})};return(0,Q.jsxs)("div",{className:re,children:[a&&a.length>0?a.slice(0,x).map((function(a){return(0,Q.jsx)("ul",{className:ie,children:(0,Q.jsxs)("li",{className:ce,children:[(0,Q.jsx)("div",{className:oe,children:(0,Q.jsx)("img",{className:de,src:a.gallery[0],alt:a.name,width:290,height:310})}),(0,Q.jsxs)("div",{children:[(0,Q.jsxs)("div",{className:_e,children:[(0,Q.jsx)("h2",{children:a.name}),(0,Q.jsxs)("div",{className:ue,children:[(0,Q.jsxs)("h2",{children:["\u20ac",a.price.toFixed(2)]}),(0,Q.jsx)("button",{className:fe,onClick:function(){return function(a){var t=a._id,s=n.some((function(e){return e._id===t})),r=[];r=s?n.filter((function(e){return e._id!==t})):[].concat((0,i.Z)(n),[a]),localStorage.setItem("favoriteCards",JSON.stringify(r)),s?(j("The camper removed from favorites!"),e((0,h.ke)(t))):(j("The camper successfully added to favorites!"),e((0,h.dO)(a)))}(a)},children:n.some((function(e){return e._id===a._id}))?(0,Q.jsx)("img",{src:ee.Z,alt:"favorite icon"}):(0,Q.jsx)("img",{src:$,alt:"favorite icon"})})]})]}),(0,Q.jsxs)("div",{className:me,children:[(0,Q.jsxs)("div",{className:Ze,children:[(0,Q.jsx)("img",{className:Ce,src:se.Z,alt:"star icon"}),a.rating,"(",a.reviews.length," Reviews)"]}),(0,Q.jsxs)("div",{className:ge,children:[(0,Q.jsx)("img",{className:Ce,src:J.Z,alt:"star icon"}),(0,Q.jsx)("span",{children:a.location})]})]}),(0,Q.jsxs)("p",{className:le,children:[a.description,"..."]}),(0,Q.jsxs)("ul",{className:je,children:[(0,Q.jsxs)("li",{className:xe,children:[(0,Q.jsx)("img",{className:he,src:te.Z,alt:"persons icon"}),(0,Q.jsxs)("p",{className:ve,children:[a.adults," adults"]})]}),(0,Q.jsxs)("li",{className:xe,children:[(0,Q.jsx)("img",{className:he,src:D.Z,alt:"persons icon"}),(0,Q.jsx)("p",{className:ve,children:a.transmission})]}),(0,Q.jsxs)("li",{className:xe,children:[(0,Q.jsx)("img",{className:he,src:ae.Z,alt:"persons icon"}),(0,Q.jsx)("p",{className:ve,children:a.engine})]}),(0,Q.jsxs)("li",{className:xe,children:[(0,Q.jsx)("img",{className:he,src:B.Z,alt:"persons icon"}),(0,Q.jsx)("p",{className:ve,children:a.details.kitchen&&"Kitchen"})]}),(0,Q.jsxs)("li",{className:xe,children:[(0,Q.jsx)("img",{className:he,src:ne.Z,alt:"persons icon"}),(0,Q.jsx)("p",{className:ve,children:a.details.beds+" beds"})]}),(0,Q.jsxs)("li",{className:xe,children:[(0,Q.jsx)("img",{className:he,src:G.Z,alt:"persons icon"}),(0,Q.jsx)("p",{className:ve,children:a.details.airConditioner>0&&"AC"})]})]}),(0,Q.jsx)("button",{className:pe,onClick:function(){return e=a._id,void u((function(n){return(0,Y.Z)((0,Y.Z)({},n),{},(0,W.Z)({},e,!0))}));var e},children:"Show more"})]}),_[a._id]&&(0,Q.jsx)(R.u,{camper:a,closeModal:function(){return e=a._id,void u((function(n){return(0,Y.Z)((0,Y.Z)({},n),{},(0,W.Z)({},e,!1))}));var e}})]})},a._id)})):(0,Q.jsx)("div",{className:be,children:(0,Q.jsx)("h2",{children:"Sorry, no campers found"})}),(0,Q.jsx)("button",{className:Ne,onClick:function(){v((function(e){return e+4}))},style:{display:a&&x<a.length?"block":"none"},children:"Load more"}),(0,Q.jsx)(H.Ix,{autoClose:3e3})]})},ke=a(2639),Fe="HomePage_home_wrapper__gMyP6",Ie=function(){var e=(0,s.useState)(!0),n=(0,t.Z)(e,2),a=n[0],i=n[1];return(0,s.useEffect)((function(){setTimeout((function(){i(!1)}),800)}),[]),(0,Q.jsxs)("div",{children:[(0,Q.jsx)(r.$,{}),a?(0,Q.jsx)(ke.a,{}):(0,Q.jsxs)("div",{className:Fe,children:[(0,Q.jsx)(U,{}),(0,Q.jsx)(we,{})]})]})}}}]);
//# sourceMappingURL=965.7b641a7f.chunk.js.map