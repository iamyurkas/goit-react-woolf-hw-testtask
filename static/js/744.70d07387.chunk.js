"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[744],{6159:function(e,a,n){n.r(a),n.d(a,{default:function(){return Ie}});var t=n(9439),s=n(2791),r=n(1301),i=n(3433),c=n(5861),l=n(4687),o=n.n(l),d=n(4420),_=n(5294),u="https://663b7542fee6744a6ea1b6e9.mockapi.io";function m(){return(m=(0,c.Z)(o().mark((function e(){var a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.Z.get("".concat(u,"/adverts"));case 2:return a=e.sent,e.next=5,a.data;case 5:return n=e.sent,e.next=8,n;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(){return m.apply(this,arguments)},h=n(969),p="Filter_filter_container__f0O5y",x="Filter_search_btn__a2wWi",v="Filter_location_input__dfSGV",j="Filter_relative_container__bqzTU",N="Filter_location_container__08DTT",C="Filter_location_label__cEcQC",g="Filter_location_icon_disabled__xuZPE",Z="Filter_filters_title__x8Rfc",b="Filter_filters_wrapper__i2T28",w="Filter_equipment_list__MfVwi",k="Filter_equipment_list_item__X+xDZ",F="Filter_checked__oZo8o",I="Filter_equipment_icon__6wyNN",y="Filter_equipment_wrapper__wkF34",S="Filter_types_wrapper__P-ynt",E="Filter_types_list__EGJkB",T="Filter_types_list_item__pM7lz",V="Filter_types_name__8oJe9",q="Filter_types_icon__WnhVE",A="Filter_title__pSkfx",L="Filter_equipment_input__-GruN";var X=n.p+"static/media/van.aa825a0616557ab4a8f3a18b9e8c4de4.svg";var z=n.p+"static/media/fully_integrated.2042b45867a8c8f6b6eb17315c36dc23.svg";var G=n.p+"static/media/alcove.650243b32d84777b3e4f543efb602ad5.svg",K=n(4278),O=n(4981),B=n(9394),D=n(4849),J=n(4199),Q=n(6535);var M=n.p+"static/media/location_disabled.26246010e56268db9982131c10b620e0.svg",P=n(184),U=function(){var e=(0,d.I0)(),a=(0,d.v9)((function(e){return e.favorite.campers})),n=(0,s.useState)(!1),r=(0,t.Z)(n,2),l=r[0],_=r[1],u=(0,s.useState)(""),m=(0,t.Z)(u,1)[0],U=(0,s.useState)(""),W=(0,t.Z)(U,2),Y=W[0],R=W[1],H=(0,s.useState)([]),$=(0,t.Z)(H,2),ee=$[0],ae=$[1],ne=(0,s.useState)(null),te=(0,t.Z)(ne,2),se=te[0],re=te[1];(0,s.useEffect)((function(){var a=function(){var a=(0,c.Z)(o().mark((function a(){var n;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e((0,h.Av)()),a.next=4,f();case 4:n=a.sent,e((0,h.nz)(n)),a.next=11;break;case 8:throw a.prev=8,a.t0=a.catch(0),new Error(a.t0);case 11:return a.prev=11,e((0,h.kU)()),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})));return function(){return a.apply(this,arguments)}}();a()}),[e]);var ie=[{id:1,name:"Van",icon:X,data:"panelTruck"},{id:2,name:"Fully Integrated",icon:z,data:"fullyIntegrated"},{id:3,name:"Alcove",icon:G,data:"alcove"}],ce=[{id:"1",name:"AC",icon:J.Z,data:"airConditioner"},{id:"2",name:"Automatic",icon:D.Z,data:"automatic"},{id:"3",name:"Kitchen",icon:B.Z,data:"kitchen"},{id:"4",name:"TV",icon:K.Z,data:"TV"},{id:"5",name:"Shower",icon:O.Z,data:"shower"}];return(0,P.jsxs)("div",{className:p,children:[(0,P.jsxs)("div",{className:N,children:[(0,P.jsxs)("label",{className:C,htmlFor:"location_input",children:["Location"," "]}),(0,P.jsxs)("div",{className:j,children:[(0,P.jsx)("input",{className:v,type:"text",id:"location_input",name:"location",placeholder:"Location",required:!0,onBlur:function(){_(!1)},onFocus:function(){_(!0)},onChange:function(e){return R(e.target.value)}}),(0,P.jsx)("img",{className:g,src:l||m?Q.Z:M,alt:"location_icon"})]})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("p",{className:Z,children:"Filters"}),(0,P.jsxs)("div",{className:b,children:[(0,P.jsxs)("div",{className:y,children:[(0,P.jsx)("h2",{className:A,children:"Vehicle equipment"}),(0,P.jsx)("ul",{className:w,children:ce.map((function(e){var a=e.id,n=e.name,t=e.icon,s=e.data;return(0,P.jsxs)("li",{className:"".concat(k," ").concat(ee.includes(s)?F:""),children:[(0,P.jsx)("input",{className:L,type:"checkbox",id:a,name:n,value:n,onChange:function(e){return function(e,a,n){ae((function(e){return a?[].concat((0,i.Z)(e),[n]):e.filter((function(e){return e!==n}))}))}(0,e.target.checked,s)},checked:ee.includes(s)}),(0,P.jsxs)("label",{htmlFor:a,children:[(0,P.jsx)("img",{className:I,src:t,alt:"".concat(n,"_icon")}),n]})]},a)}))})]}),(0,P.jsxs)("div",{className:S,children:[(0,P.jsx)("h2",{className:A,children:"Vehicle type"}),(0,P.jsx)("ul",{className:E,children:ie.map((function(e){return(0,P.jsxs)("li",{className:"".concat(T," ").concat(se&&se.id===e.id?F:""),onClick:function(){return function(e){se&&se.id===e.id?re(null):re(e)}(e)},children:[(0,P.jsx)("img",{className:q,src:e.icon,alt:"".concat(e.name,"_icon")}),(0,P.jsx)("p",{className:V,children:e.name})]},e.id)}))})]})]})]}),(0,P.jsx)("button",{onClick:function(){var n=a.slice();Y&&(n=n.filter((function(e){return e.location.split(",")[1].toLowerCase().trim()===Y.toLowerCase().trim()}))),ee.length>0&&(n=n.filter((function(e){return ee.every((function(a){return"automatic"===a||1===e.details[a]}))}))),se&&(n=n.filter((function(e){return e.form===se.data}))),e((0,h.Qk)(n))},className:x,children:"Search"})]})},W=n(4942),Y=n(1413),R=n(2564),H=(n(5462),n(715));var $=n.p+"static/media/heart.eaf1f75040c7665a5b109514d8630386.svg",ee=n(1786),ae=n(49),ne=n(635),te=n(6666),se=n(7255),re="CardInfo_card_wrapper__C8XIY",ie="CardInfo_card_list_wrapper__AO8Zs",ce="CardInfo_card_info__PvLTZ",le="CardInfo_description__BtYBG",oe="CardInfo_card_img_wrapper__DH2sX",de="CardInfo_card_img__iVtan",_e="CardInfo_info__JchEr",ue="CardInfo_left_info__Xr+lj",me="CardInfo_secondary_info__zK2Nf",fe="CardInfo_fav_btn__XKVYd",he="CardInfo_icons__60spt",pe="CardInfo_show_btn__mzorX",xe="CardInfo_item_details__wNx7s",ve="CardInfo_header_detail__9e4vr",je="CardInfo_list_details__n2gC9",Ne="CardInfo_load_more_btn__WCEDS",Ce="CardInfo_star_icon__ZCxOa",ge="CardInfo_flex_box__f+I26",Ze="CardInfo_rating_wrapper__FKu5n",be="CardInfo_no_camp_title_wrapper__dos4a",we=function(){var e=(0,d.I0)(),a=(0,d.v9)((function(e){return e.favorite.favoriteCards})),n=(0,d.v9)((function(e){return e.favorite.filteredCampers})),r=(0,s.useState)({}),l=(0,t.Z)(r,2),_=l[0],u=l[1],m=(0,s.useState)(4),p=(0,t.Z)(m,2),x=p[0],v=p[1];(0,s.useEffect)((function(){var a=function(){var a=(0,c.Z)(o().mark((function a(){var n;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e((0,h.Av)()),a.next=4,f();case 4:n=a.sent,e((0,h.Qk)(n)),a.next=11;break;case 8:throw a.prev=8,a.t0=a.catch(0),new Error;case 11:return a.prev=11,e((0,h.kU)()),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})));return function(){return a.apply(this,arguments)}}();a()}),[e]);var j=function(e){return R.Am.info(e,{theme:"colored"})};return(0,P.jsxs)("div",{className:re,children:[n&&n.length>0?n.slice(0,x).map((function(n){return(0,P.jsx)("ul",{className:ie,children:(0,P.jsxs)("li",{className:ce,children:[(0,P.jsx)("div",{className:oe,children:(0,P.jsx)("img",{className:de,src:n.gallery[0],alt:n.name,width:290,height:310})}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:_e,children:[(0,P.jsx)("h2",{children:n.name}),(0,P.jsxs)("div",{className:ue,children:[(0,P.jsxs)("h2",{children:["\u20ac",n.price.toFixed(2)]}),(0,P.jsx)("button",{className:fe,onClick:function(){return function(n){var t=n._id,s=a.some((function(e){return e._id===t})),r=[];r=s?a.filter((function(e){return e._id!==t})):[].concat((0,i.Z)(a),[n]),localStorage.setItem("favoriteCards",JSON.stringify(r)),s?(j("The camper removed from favorites!"),e((0,h.ke)(t))):(j("The camper successfully added to favorites!"),e((0,h.dO)(n)))}(n)},children:a.some((function(e){return e._id===n._id}))?(0,P.jsx)("img",{src:ee.Z,alt:"favorite icon"}):(0,P.jsx)("img",{src:$,alt:"favorite icon"})})]})]}),(0,P.jsxs)("div",{className:me,children:[(0,P.jsxs)("div",{className:Ze,children:[(0,P.jsx)("img",{className:Ce,src:se.Z,alt:"star icon"}),n.rating,"(",n.reviews.length," Reviews)"]}),(0,P.jsxs)("div",{className:ge,children:[(0,P.jsx)("img",{className:Ce,src:Q.Z,alt:"star icon"}),(0,P.jsx)("span",{children:n.location})]})]}),(0,P.jsxs)("p",{className:le,children:[n.description,"..."]}),(0,P.jsxs)("ul",{className:je,children:[(0,P.jsxs)("li",{className:xe,children:[(0,P.jsx)("img",{className:he,src:te.Z,alt:"persons icon"}),(0,P.jsxs)("p",{className:ve,children:[n.adults," adults"]})]}),(0,P.jsxs)("li",{className:xe,children:[(0,P.jsx)("img",{className:he,src:D.Z,alt:"persons icon"}),(0,P.jsx)("p",{className:ve,children:n.transmission})]}),(0,P.jsxs)("li",{className:xe,children:[(0,P.jsx)("img",{className:he,src:ne.Z,alt:"persons icon"}),(0,P.jsx)("p",{className:ve,children:n.engine})]}),(0,P.jsxs)("li",{className:xe,children:[(0,P.jsx)("img",{className:he,src:B.Z,alt:"persons icon"}),(0,P.jsx)("p",{className:ve,children:n.details.kitchen&&"Kitchen"})]}),(0,P.jsxs)("li",{className:xe,children:[(0,P.jsx)("img",{className:he,src:ae.Z,alt:"persons icon"}),(0,P.jsx)("p",{className:ve,children:n.details.beds+" beds"})]}),(0,P.jsxs)("li",{className:xe,children:[(0,P.jsx)("img",{className:he,src:J.Z,alt:"persons icon"}),(0,P.jsx)("p",{className:ve,children:n.details.airConditioner>0&&"AC"})]})]}),(0,P.jsx)("button",{className:pe,onClick:function(){return e=n._id,void u((function(a){return(0,Y.Z)((0,Y.Z)({},a),{},(0,W.Z)({},e,!0))}));var e},children:"Show more"})]}),_[n._id]&&(0,P.jsx)(H.u,{camper:n,closeModal:function(){return e=n._id,void u((function(a){return(0,Y.Z)((0,Y.Z)({},a),{},(0,W.Z)({},e,!1))}));var e}})]})},n._id)})):(0,P.jsx)("div",{className:be,children:(0,P.jsx)("h2",{children:"Sorry, no campers found"})}),(0,P.jsx)("button",{className:Ne,onClick:function(){v((function(e){return e+4}))},style:{display:n&&x<n.length?"block":"none"},children:"Load more"}),(0,P.jsx)(R.Ix,{autoClose:3e3})]})},ke=n(2639),Fe="Catalog_catalog_wrapper__Q1Gtx",Ie=function(){var e=(0,s.useState)(!0),a=(0,t.Z)(e,2),n=a[0],i=a[1];return(0,s.useEffect)((function(){setTimeout((function(){i(!1)}),800)}),[]),(0,P.jsxs)("div",{children:[(0,P.jsx)(r.$,{}),n?(0,P.jsx)(ke.a,{}):(0,P.jsxs)("div",{className:Fe,children:[(0,P.jsx)(U,{}),(0,P.jsx)(we,{})]})]})}}}]);
//# sourceMappingURL=744.70d07387.chunk.js.map